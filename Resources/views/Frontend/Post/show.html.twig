{% extends 'QbBlogBundle::Frontend\\layout.html.twig' %}

{% block title %}{{ post.title }} - {{ parent() }}{% endblock %}

{% block qb_blog_body %}
    {% set category %}
        {% if post.category %}
            in <a href="{{ path('qb_blog_frontend_category_show', { 'slug': post.category.slug }) }}">{{ post.category }}</a>
        {% endif %}
    {% endset %}
    <article>
        <header>
            <h1>{{ post.title }}</h1>
            <p>Posted by {{ post.author }} on <time datetime="{{ post.created|date('c') }}">{{ post.created|date('l, F j, Y') }}</time>{{ category }}</p>
        </header>
        {{ post.body|raw }}
        <footer>
            {% if post.tags %}
                <ul>
                {% for tag in post.tags %}
                    <li><a href="{{ path('qb_blog_frontend_tag_show', { 'slug': tag.slug }) }}">{{ tag }}</a></li>
                {% endfor %}
                </ul>
            {% endif %}
            <p>{{ post.comments|length }} comments</p>
        </footer>
        <section>
            <h1>Comments</h1>
            {% include 'QbBlogBundle:Frontend\\Comment:list.html.twig' with { 'form': form } %}
        </section>
        <section>
            <h1>Add a comment</h1>
            {% include 'QbBlogBundle:Frontend\\Comment:new_form.html.twig' with { 'form': form } %}
        </section>
    </article>
{% endblock %}
